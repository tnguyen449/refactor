<form name="personal.bolInfoForm" novalidate>
    <!-- start bill of landing information -->
    <div class="panel panel-default height">
        <!-- form heading -->
        <div class="text-center panel-heading">
            <h2>Thông tin đơn hàng số {{bolInfo.bolInfoVM.bolCode}}</h2>
        </div>
        <!-- form body -->
        <div class="panel-body">
            <div class="add-row-editable-table col-md-12">
                <div class="col-md-12">
                    <!-- binding send date -->
                    <div class="col-md-12">
                        <div class="col-md-4">
                            <label>Ngày Gửi:</label>
                        </div>
                        <div class="col-md-8">
                            <label>{{bolInfo.bolInfoVM.sendDate | date: 'dd/MM/yyyy'}}</label>
                        </div>
                    </div>
                    <!-- input received date -->
                    <div class="col-md-12">
                        <div class="col-md-4" style="padding-top: 10px">
                            <label style="padding-top: 5px">Ngày Nhận:</label>
                        </div>
                        <div class="datepicker col-md-3" ng-class="{'has-error':personal.bolInfoForm.datePicker.$invalid && (personal.bolInfoForm.datePicker.$dirty || personal.bolInfoForm.$submitted)}">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup="{{bolInfo.format}}" datepicker-options="bolInfo.receiveDate" ng-model="bolInfo.bolInfoVM.receiveDate" ng-value="bolInfo.receiveDate.minDate" is-open="bolInfo.opened" name="datePicker" close-text="Close"
                                    alt-input-formats="altInputFormats" show-button-bar="false" />
                                <span class="input-group-btn">
                             <button type="button" class="btn btn-default" ng-click="bolInfo.open()"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                            <span class="help-block error-block basic-block">Chọn ngày nhận</span>
                        </div>
                        <!--<div class="col-md-3">
                        <input type="text" class="form-control" ng-focus="bolInfo.dateCode()" placeholder="Nhập Ngày Nhận">
                    </div>
                    <div class="col-md-2" style="padding:10px 0 0 0">
                        <span> (dd/MM/yyyy)</span>
                    </div>-->
                    </div>
                </div>
                <!-- component guanrantee -->
                <div class="col-md-12" style="padding-top:8px">
                    <div class="col-md-12">
                        <div class="col-sm-4 control-label" style="padding-top:8px">
                            <label>Đảm Bảo:</label>
                        </div>
                        <!-- input guanrantee -->
                        <div class="col-md-4">
                            <ba-switcher switcher-style="primary" switcher-value="bolInfo.bolInfoVM.isGuarantee"></ba-switcher>
                            <!-- <input type="checkbox" ng-model="bolInfo.merchandisesVM.isGuarantee" /> -->
                        </div>
                    </div>
                </div>
                <!-- component discount all option -->
                <div class="col-md-12" style="padding-top:8px">
                    <div class="col-md-12">
                        <div class="col-sm-4 control-label" style="padding-top:8px">
                            <label>Khấu trừ:</label>
                        </div>
                        <!-- input guanrantee -->
                        <div class="col-md-2">
                            <ba-switcher switcher-style="primary" switcher-value="bolInfo.bolInfoVM.isDiscount"></ba-switcher>
                            <!-- <input type="checkbox" ng-model="bolInfo.merchandisesVM.isGuarantee" /> -->
                        </div>
                        <div style="padding-top:10px">
                            <span style="color:red;"> (dành cho nhân viên)</span>
                        </div>
                    </div>
                </div>
                <!-- component collect in behalf -->
                <div class="col-md-12">
                    <div class="col-md-12">
                        <div class="col-md-4" style="padding-top:8px">
                            <label>Thu Hộ:</label>
                        </div>
                        <!-- input collect in behalf -->
                        <div class="col-md-3">
                            <input type="text" class="form-control" currency-format ng-model="bolInfo.bolInfoVM.collectInBehalf" placeholder="Tiền Cần Thu" />
                        </div>
                    </div>
                </div>

                <!-- component delivery method -->
                <div class="col-md-12" style="padding-top:10px">
                    <div class="col-md-12">
                        <div class="col-md-4" style="padding-top:10px">
                            <label>Dịch Vụ Giao Nhận:</label>
                        </div>
                        <!-- radio button delivery methods -->
                        <div class="col-md-8">
                            <div class="col-md-6" style="padding-top: 10px" ng-repeat="deliveryType in bolInfo.deliveryTypeVM" ng-init="bolInfo.bolInfoVM.deliveryType.Id = bolInfo.deliveryTypeVM[0].Id">
                                <label class="radio-inline custom-radio nowrap">
                            <input type="radio" name="inlineRadioOptions" id="inlineRadio3" ng-value="deliveryType.Id" ng-model="bolInfo.bolInfoVM.deliveryType.Id" ng-change="bolInfo.calculateMinorFee(bolInfo.bolInfoVM.deliveryType.Id)">
                            <span>{{deliveryType.Name}}</span> 
                        </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- optional component for some delivery methods -->
                <div class="col-md-12" style="height: 90px" ng-switch on="bolInfo.bolInfoVM.deliveryType.Id">
                    <div class="col-md-12" ng-hide="bolInfo.deliveryTypeVM[bolInfo.bolInfoVM.deliveryType.Id-1].Name == bolInfo.deliveryTypeVM[0].Name">
                        <div class="col-md-4" style="padding-top: 45px">
                            <label>Dịch Vụ {{bolInfo.deliveryTypeVM[bolInfo.bolInfoVM.deliveryType.Id -1].Name}}</label>
                        </div>
                        <div class="col-md-8">
                            <!-- sub-component Cash on Delivery -->

                            <div class="row form-inline animate-switch" style="padding-top: 35px" ng-show="bolInfo.deliveryTypeVM[bolInfo.bolInfoVM.deliveryType.Id-1].Name == bolInfo.deliveryTypeVM[2].Name">
                                <div class="form-group col-md-5 col-sm-3 col-xs-6 has-feedback" ng-class="{'has-error':personal.bolInfoForm.codAddress.$invalid && (personal.bolInfoForm.codAddress.$dirty || personal.bolInfoForm.$submitted)}">
                                    <input type="text" class="form-control" name="codAddress" placeholder="Nhập Địa Chỉ Nhận" ng-model="bolInfo.bolInfoVM.sendAddress" ng-required="bolInfo.bolInfoVM.deliveryType.Id == bolInfo.deliveryTypeVM[2].Id">
                                    <span class="help-block error-block basic-block">Nhập địa chỉ người nhận</span>
                                </div>
                            </div>
                            <!-- sub-component Timed delivery -->
                            <div class="row form-inline" ng-show="bolInfo.deliveryTypeVM[bolInfo.bolInfoVM.deliveryType.Id -1].Name == bolInfo.deliveryTypeVM[1].Name">
                                <div class="form-group col-md-5 col-sm-3 col-xs-6 has-feedback" style="padding-top: 35px" ng-class="{'has-error':personal.bolInfoForm.timedAddress.$invalid && (personal.bolInfoForm.timedAddress.$dirty || personal.bolInfoForm.$submitted)}">
                                    <input type="text" class="form-control" name="timedAddress" placeholder="Nhập Địa Chỉ Nhận" ng-model="bolInfo.bolInfoVM.sendAddress" ng-required="bolInfo.bolInfoVM.deliveryType.Id == bolInfo.deliveryTypeVM[1].Id">
                                    <span class="help-block error-block basic-block">Nhập địa chỉ người nhận</span>
                                </div>
                                <div class="form-group col-sm-3 col-xs-6">
                                    <div uib-timepicker ng-model="bolInfo.mytime" ng-change="bolInfo.change()" show-meridian="!bolInfo.ismeridian"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- end optional components -->

        <!-- bill of landing details -->
        <div class="panel panel-default height">
            <!-- heading -->
            <div class="panel-heading text-center">
                <h2>Chi Tiết Đơn Vận</h2>
            </div>
            <!-- body -->
            <div class="panel-body">
                <!-- button group -->
                <div class="add-row-editable-table col-md-12 pull-right">
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <!--add another view-->
                        </div>
                        <div class="col-md-6">
                            <div class="row btns-row pull-right">
                                <!-- button add item -->
                                <div class="col-sm-6">
                                    <button class="btn btn-primary addItem" ng-click="bolInfo.addItem()"><i class="fa fa-plus-circle" aria-hidden="true"></i> Thêm Hàng Gửi</button>
                                </div>
                                <!-- button remove item -->
                                <div class="col-sm-6">
                                    <button class="btn btn-danger removeItem" ng-click="bolInfo.removeItem()"><i class="fa fa-minus-circle" aria-hidden="false"></i> Xóa Hàng Gửi</button>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!-- end button group -->
                    <!-- table bill of landing details -->
                    <div class="horizontal-scroll col-md-12">
                        <!-- start smart table-->
                        <table class="table" st-table="smartTableData">
                            <thead>
                                <tr>
                                    <!-- checkbox select all -->
                                    <th class="table-id">
                                        <input type="checkbox" ng-model="bolInfo.selectedAll" ng-click="bolInfo.selectAll()" />
                                    </th>
                                    <!-- input title block -->
                                    <th class="col-md-2 text-center bolHeader">Loại Đơn Hàng</th>
                                    <th class="col-md-1 text-left bolHeader">Số Lượng </th>
                                    <th class="col-md-1 text-center bolHeader">ĐVT </th>
                                    <th class="col-md-1 text-left bolHeader">Khối Lượng</th>
                                    <!-- check box title declare value -->
                                    <th class="col-md-0.5 text-center bolHeader">KG</th>
                                    <!-- input title block -->
                                    <th class="col-md-2 text-left bolHeader">Giá Khai</th>
                                    <th class="col-md-2 text-left bolHeader">Giá Ước Tính</th>
                                    <th class="col-md-3 text-left bolHeader">Ghi Chú</th>
                                    <th class="col-md-2 text-left bolHeader">Thành Tiền</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- canvas form -->
                                <tr></tr>
                                <!-- primary table body components -->
                                <tr ng-repeat="item in bolInfo.merchandisesVM">
                                    <!-- check box select specific item -->
                                    <td class="table-id" style="border-top:none">
                                        <input type="checkbox" ng-model="item.selected" />
                                    </td>
                                    <!-- dropdown merchandise types -->
                                    <td style="border-top:none">
                                        <select style="width:140px" ng-change="bolInfo.calculateItem(item)" ng-model="item.merchandiseType" class="input-sm form-control type" ng-options="type.MerchandiseType1 group by type.Description for type in personal.merchandiseTypeVM" name="sendTo" class="form-control">
                                    <option>Chọn Loại Hàng</option>
                            </select>
                                    </td>
                                    <!-- input quantity -->
                                    <td style="border-top:none">
                                        <input class="input-sm form-control quantity" only-digit ng-model="item.quantity" ng-change="bolInfo.calculateItem(item)">
                                    </td>
                                    <!-- bind calculation unit -->
                                    <td style="border-top:none">
                                        <div class="text-center">{{item.merchandiseType.CalculationUnit.trim()}}</div>
                                    </td>
                                    <!-- input weight -->
                                    <td style="border-top:none">
                                        <input class="input-sm form-control weight" only-digit ng-model="item.weight" ng-change="bolInfo.calculateItem(item)" ng-disabled="item.type.Description == 'Phương Tiện' || item.type.MerchandiseType1.indexOf('Xe') > -1">
                                    </td>
                                    <!-- check box declare values -->
                                    <td class="text-center isDeclareValue" style="border-top:none">
                                        <input type="checkbox" ng-model="item.isDeclared" ng-change="bolInfo.calculateItem(item)" />
                                    </td>
                                    <!-- input declare values -->
                                    <td style="border-top:none">
                                        <input type="text" class="input-sm form-control" currency-format ng-disabled="!item.isDeclared" ng-change="bolInfo.calculateItem(item)" ng-model="item.declareValue" placeholder="Khai giá">
                                    </td>
                                    <!-- input predictable values -->
                                    <td style="border-top:none">
                                        <input type="text" class="input-sm form-control isPredictableValue" currency-format ng-change="bolInfo.calculateItem(item)" ng-model="item.specialPrice" placeholder="Giá Ước Tính">
                                    </td>
                                    <!-- input description -->
                                    <td style="border-top:none">
                                        <input type="text" class="input-sm form-control" ng-model="item.description" placeholder="Ghi Chú">
                                    </td>
                                    <!-- binding total -->
                                    <td class="text-center" style="border-top:none">
                                        <span>  {{item.subTotal | number:0}}</span>
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <!-- canvas additional fee column -->
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <!-- title additional fee column -->
                                    <td class="pull-right" style="border-top:none; padding-top:17px">
                                        <strong>Phụ Phí: </strong>
                                    </td>
                                    <!-- input additional fee value -->
                                    <td style="border-top:none">
                                        <input type="text" currency-format ng-model="bolInfo.additionalFee" class="form-control input-sm">
                                        <!--ng-value="bolInfo.additionalFee = (bolInfo.bolInfoVM.deliveryType.Id == bolInfo.deliveryTypeVM[1].Name? bolInfo.deliveryTypeVM[1].Value :bolInfo.additionalFee)"-->
                                    </td>
                                </tr>
                                <!--<tr>
                                 canvas tax column 
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                <td style="border-top:none"></td>
                                 title tax column 
                                <td class="pull-right" style="border-top:none; padding-top:17px">
                                    <strong>Thuế (% VAT): </strong>
                                </td>
                                input tax value
                                <td style="border-top:none">
                                    <input type="text" class="form-control input-sm" id="exampleInputName2">
                                </td>
                            </tr>-->
                                <tr>
                                    <!-- canvas sub total column -->
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <!-- title subtotal column -->
                                    <td class="pull-right" style="border-top:none">
                                        <strong>Tổng Cộng: </strong>
                                    </td>
                                    <!-- binding subtotal -->
                                    <td class="text-center" style="border-top:none"><span>{{bolInfo.calculateBolTotal() | number:0}}</span></td>
                                </tr>
                                <tr>
                                    <!-- canvas prepaid column -->
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <!-- title prepaid column -->
                                    <td class="pull-right" style="border-top:none; padding-top:17px">
                                        <strong>Trả trước: </strong>
                                    </td>
                                    <!-- input prepaid value -->
                                    <td style="border-top:none">
                                        <input type="text" class="input-sm form-control" ng-change="bolInfo.calculateBolLiabilities()" currency-format ng-model="bolInfo.bolInfoVM.prepaid">
                                    </td>
                                </tr>
                                <tr>
                                    <!-- canvas liabilities column -->
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <td style="border-top:none"></td>
                                    <!-- title liabilities column -->
                                    <td class="pull-right" style="border-top:none">
                                        <strong>Còn nợ: </strong>
                                    </td>
                                    <!-- binding liabilities values -->
                                    <td class="text-center" style="border-top:none"><span>{{bolInfo.bolInfoVM.liabilities | number:0}}</span></td>
                                </tr>
                            </tfoot>
                        </table>
                        <!-- end smart table -->
                    </div>
                    <!-- end bill of landing details -->
                </div>
            </div>
            <!-- end bill of landing infomation -->
        </div>
    </div>
</form>